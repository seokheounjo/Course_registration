<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>석현대학교 - 학생 {{^isNew}}수정{{/isNew}}{{#isNew}}추가{{/isNew}}</title>
    <link rel="stylesheet" href="/css/styles.css">
    <style>
        .form-container {
            max-width: 600px;
            margin: 0 auto;
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .form-title {
            color: #1a237e;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #555;
        }

        .form-control {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }

        .form-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
    </style>
</head>
<body>
<!-- 상단 네비게이션 -->
<header class="site-header">
    <div class="container header-container">
        <div class="left-header">
            <a href="/admin" style="text-decoration: none; color: white;">
                <div class="logo">석현대학교</div>
                <div class="system-name">수강신청시스템</div>
            </a>
        </div>
        <div class="user-menu">
            <span class="user-info">관리자님 환영합니다</span>
            <a href="/logout" class="logout-btn">로그아웃</a>
        </div>
    </div>
</header>

<!-- 메인 콘텐츠 -->
<div class="main-content container">
    <div class="form-container">
        <h2 class="form-title">학생 {{^isNew}}수정{{/isNew}}{{#isNew}}추가{{/isNew}}</h2>

        <form method="post" action="{{^isNew}}/admin/students/{{id}}{{/isNew}}{{#isNew}}/admin/students{{/isNew}}">
            <div class="form-group">
                <label for="studentId">학번:</label>
                <input type="text" id="studentId" name="studentId" value="{{studentId}}" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="name">이름:</label>
                <input type="text" id="name" name="name" value="{{name}}" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="grade">학년:</label>
                <select id="grade" name="grade" class="form-control" required>
                    <option value="">-- 학년 선택 --</option>
                    <option value="1" {{#grade}}{{#equals}}1{{/equals}}selected{{/grade}}>1학년</option>
                    <option value="2" {{#grade}}{{#equals}}2{{/equals}}selected{{/grade}}>2학년</option>
                    <option value="3" {{#grade}}{{#equals}}3{{/equals}}selected{{/grade}}>3학년</option>
                    <option value="4" {{#grade}}{{#equals}}4{{/equals}}selected{{/grade}}>4학년</option>
                    <option value="석사" {{#grade}}{{#equals}}석사{{/equals}}selected{{/grade}}>석사</option>
                    <option value="박사" {{#grade}}{{#equals}}박사{{/equals}}selected{{/grade}}>박사</option>
                </select>
            </div>

            <div class="form-group">
                <label for="department">학과:</label>
                <input type="text" id="department" name="department" value="{{department}}" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="password">비밀번호:</label>
                <input type="password" id="password" name="password" value="{{password}}" class="form-control" required>
            </div>

            <div class="form-buttons">
                <a href="/admin/students" class="btn btn-danger">취소</a>
                <button type="submit" class="btn btn-primary">저장</button>
            </div>
        </form>
    </div>
</div>

<!-- 푸터 이미지 -->
{{> footer}}

<script>
    // 기존 학년 선택
    document.addEventListener('DOMContentLoaded', function() {
        const grade = "{{grade}}";
        if (grade) {
            const gradeSelect = document.getElementById('grade');
            for (let i = 0; i < gradeSelect.options.length; i++) {
                if (gradeSelect.options[i].value === grade) {
                    gradeSelect.options[i].selected = true;
                    break;
                }
            }
        }
    });
</script>
</body>
</html>