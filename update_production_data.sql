-- 4학년 과목 추가 스크립트
-- 먼저 4학년 과목이 이미 있는지 확인
SELECT COUNT(*) as current_4th_grade_subjects FROM subjects WHERE target_grade = '4';

-- 4학년 과목들 추가 (18개)
INSERT INTO subjects (code, name, credits, department, professor_id, target_grade) VALUES
('컴퓨401', '고급알고리즘', 3, '컴퓨터공학과', 1, '4'),
('컴퓨402', '머신러닝', 3, '컴퓨터공학과', 21, '4'),
('컴퓨403', '네트워크보안', 3, '컴퓨터공학과', 31, '4'),
('전자401', '임베디드시스템', 3, '전자공학과', 2, '4'),
('전자402', 'VLSI설계', 3, '전자공학과', 22, '4'),
('전자403', '신호처리응용', 3, '전자공학과', 32, '4'),
('기계401', '로봇공학', 3, '기계공학과', 3, '4'),
('기계402', '제어시스템설계', 3, '기계공학과', 23, '4'),
('기계403', '유체역학응용', 3, '기계공학과', 33, '4'),
('경영401', '전략경영', 3, '경영학과', 4, '4'),
('경영402', '국제경영', 3, '경영학과', 24, '4'),
('경영403', '경영정보시스템', 3, '경영학과', 34, '4'),
('화학401', '고분자화학', 3, '화학공학과', 5, '4'),
('화학402', '반응공학', 3, '화학공학과', 25, '4'),
('화학403', '분리정제공학', 3, '화학공학과', 35, '4'),
('생명401', '분자생물학', 3, '생명과학과', 6, '4'),
('생명402', '생명정보학', 3, '생명과학과', 26, '4'),
('생명403', '유전공학', 3, '생명과학과', 36, '4'),
('수학401', '수치해석', 3, '수학과', 7, '4'),
('수학402', '편미분방정식', 3, '수학과', 27, '4')
ON DUPLICATE KEY UPDATE name=VALUES(name);

-- 추가 학생들 (각 학년별 35명씩 140명으로 확장)
-- 1학년 추가 학생들 (기존 20230101-20230135 다음부터)
INSERT INTO students (student_id, password, name, grade, department) VALUES
('20230136', '20230136', '김민수36', '1', '컴퓨터공학과'),
('20230137', '20230137', '이서연37', '1', '전자공학과'),
('20230138', '20230138', '박준혁38', '1', '기계공학과'),
('20230139', '20230139', '정하늘39', '1', '경영학과'),
('20230140', '20230140', '최유진40', '1', '화학공학과')
ON DUPLICATE KEY UPDATE name=VALUES(name);

-- 2학년 추가 학생들
INSERT INTO students (student_id, password, name, grade, department) VALUES
('20220136', '20220136', '강민석36', '2', '생명과학과'),
('20220137', '20220137', '윤소희37', '2', '수학과'),
('20220138', '20220138', '장현우38', '2', '컴퓨터공학과'),
('20220139', '20220139', '김다은39', '2', '전자공학과'),
('20220140', '20220140', '이준서40', '2', '기계공학과')
ON DUPLICATE KEY UPDATE name=VALUES(name);

-- 3학년 추가 학생들  
INSERT INTO students (student_id, password, name, grade, department) VALUES
('20210136', '20210136', '박서현36', '3', '경영학과'),
('20210137', '20210137', '정민호37', '3', '화학공학과'),
('20210138', '20210138', '최예린38', '3', '생명과학과'),
('20210139', '20210139', '김태현39', '3', '수학과'),
('20210140', '20210140', '이지우40', '3', '컴퓨터공학과')
ON DUPLICATE KEY UPDATE name=VALUES(name);

-- 4학년 추가 학생들
INSERT INTO students (student_id, password, name, grade, department) VALUES
('20200136', '20200136', '황수빈36', '4', '전자공학과'),
('20200137', '20200137', '조민준37', '4', '기계공학과'),
('20200138', '20200138', '서윤아38', '4', '경영학과'),
('20200139', '20200139', '김도현39', '4', '화학공학과'),
('20200140', '20200140', '이채원40', '4', '생명과학과')
ON DUPLICATE KEY UPDATE name=VALUES(name);

-- 확인 쿼리
SELECT target_grade, COUNT(*) as subject_count FROM subjects GROUP BY target_grade ORDER BY target_grade;
SELECT grade, COUNT(*) as student_count FROM students GROUP BY grade ORDER BY grade;